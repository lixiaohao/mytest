## 和大数据交互接口
#### 一：老的需求和交互方式
> 老需求如下：

1.查询所有标签  
2.根据标签(包括导入标签)查询预估人数  
3.根据标签(包括导入标签)查询人员信息  
4.查询所有导入标签

主意:老需求不涉及业务方

> 交互方式如下：

- 1、查询标签

![](./img/营销核项目-读取标签流程图.jpg)


- 2、查询预估人数

![](./img/营销核项目-查询预估人数流程图.jpg)

- 3、根据标签查询人员详细信息接口

![](./img/营销核项目-根据标签查询人员信息接口.jpg)

- 4、查询导入标签

![](./img/营销核项目-查询导入标签.jpg)

#### 二、新需求
> 新接口需求如下(*1-4需求没变*)  
1.查询所有标签  
2.根据标签(包括导入标签)查询预估人数  
3.根据标签(包括导入标签)查询人员信息  
4.查询所有导入标签  
5.查询所有业务方  
6.查询某一个业务方

> 交互方式如下(*1-4保持不变*):
- 1、查询业务方

![](./img/营销核项目-查询标签业务方.jpg)


#### 三、遇到的问题
1.老版本不支持新的标签，且老版本没有业务方相关接口  
2.新版本不支持导入标签

#### 解决问题核心点
> 无论使用新版本还是老版本接口,都要需要支持一下功能

- 1、支持导入标签查询人员信息
- 2、同时支持新的标签和老的标签

#### 四、解决方法
1.方案一 (使用新版本)
> 使用新版本，但是要求新版本兼容老接口
2.方案二 (同时使用新版本和老版本)
> 需求 1-4 仍然使用老版本接口，需求5-6使用新版本接口，但是需要老版本支持新的标签